---
title: Linux-进程管理
date: 2020-06-20 19:33:15
categories:
- [coding, linux]
tags: 
- linux
---

查看命令：

```bash
- ps
- pstree
- top
```

PS

```bash
$ ps # 查看当前终端下，或当前shell下的运行了哪些进程
$ ps -e # 查看其他的进程
$ ps -ef # 多了一个UID，启动的用户身份，可以被修改，PPID父进程
$ ps -eLf # LWP表示线程
```

管道 （｜）

```bash
$ ps -ef | grep xxx # 显示进程，并进行过滤，只显示xxx的内容
```

PSTREE 以树形结构查看

```bash
$ pstree
```

TOP 动态查看资源使用情况

```bash
$ top 
$ top -p pid # 只查看指定pid的使用情况 PR表示系统优先级 NI(nice)占用多少资源
$ nice -n 10 shell # 将shell的优先级调为10，数字越大优先级越低
$ renice -n 15 pid # 修改正在运行的程序的优先级
```

进程前台后台切换

```bash
$ shell & # 以后台形式运行shell
$ jobs # 显示
[1]+ 运行中 ./a.sh &
$ fg 1 # 将后台进程1调回到前台运行 

$ ./a.sh # 以前台方式启动shell
ctrl + z # 停止运行shell，并将其挂起在后台
$ jobs # 查看运行记录
[1]+ 已停止 ./a.sh
$ fg 1 # 以前台形式运行
$ bg 1 # 以后台形式继续运行

```

KILL命令

```bash
$ kill -l # 查看所有的kill命令
1) SIGHUP 2) SIGINT (ctrl + c) ...
9) SIGKILL
$ kill -9 pid # 向pid传递信号，9为立即杀死。
```

`nohup`命令（忽略hangup信号）

```bash
nohup shell & # 关掉终端，程序依然可以运行，& 后台运行
```

服务管理工具`systemctl`

```bash
$ systemctl start|stop|restart|reload|enable|disable|status 服务名称
	- enable 开机自启
```

内存使用率查看

```bash
- free # 查看总使用量
	- free -m -g # 以MB，GB格式显示使用量
- top # 动态查看
```

磁盘使用率查看

```bash
- fdisk # 可以查看磁盘也可对磁盘进行分区
	- fdisk -l # 查看分区
- df
	- df -h # 查看分区挂载到的目录，以及大小，已用，可用
- du
	- du -h # 实际占用空间 与 ls -l区别为 du显示的实际大小，ls为声明大小
	
```