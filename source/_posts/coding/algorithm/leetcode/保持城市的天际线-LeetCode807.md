---
title: 保持城市的天际线-LeetCode807
date: 2019-08-06 23:13:34
tags: 
- 算法与数据结构
- Leetcode
---

# 题目描述

> 在二维数组grid中，grid[i][j]代表位于某处的建筑物的高度。 我们被允许增加任何数量（不同建筑物的数量可能不同）的建筑物的高度。 高度 0 也被认为是建筑物。
>
> 最后，从新数组的所有四个方向（即顶部，底部，左侧和右侧）观看的“天际线”必须与原始数组的天际线相同。 城市的天际线是从远处观看时，由所有建筑物形成的矩形的外部轮廓。 请看下面的例子。
>
> 建筑物高度可以增加的最大总和是多少？
>
> 例子：
> 输入： grid = \[\[3,0,8,4],\[2,4,5,7],\[9,2,6,3],\[0,3,1,0]]
> 输出： 35
> 解释： 
> The grid is:
> \[ \[3, 0, 8, 4], 
>   \[2, 4, 5, 7],
>   \[9, 2, 6, 3],
>   \[0, 3, 1, 0] ]
>
> 从数组竖直方向（即顶部，底部）看“天际线”是：\[9, 4, 8, 7]
> 从水平水平方向（即左侧，右侧）看“天际线”是：\[8, 7, 9, 3]
>
> 在不影响天际线的情况下对建筑物进行增高后，新数组如下：
>
> gridNew = \[ \[8, 4, 8, 7],
>             \[7, 4, 7, 7],
>             \[9, 4, 8, 7],
>             \[3, 3, 3, 3] ]
> 说明:
>
> 1 < grid.length = `grid[0].length` <= 50。
>  `grid[i][j]` 的高度范围是： \[0, 100]。
> 一座建筑物占据一个`grid[i][j]`：换言之，它们是 `1 x 1 x grid[i][j]` 的长方体。

这个问题类似看三视图，然后再根据两个三视图合并出符合条件的最高值。

最后要返回的结果是这个最高值比原有值增长了多少

<!--more-->

# 解题思路

我们首先要将左视图和前视图的最大值存储。

怎样才能增长到最高？当前位置变成左视图、前视图在当前位置的最小值。

能增长多少要怎么求呢？拿左视图、前视图在当前位置的最小值与原有值做差，然后再每个位置累加。

**代码实现：**

```java
public static int maxIncreaseKeepingSkyline(int[][] grid) {
  //左视图
  int[] left = new int[grid.length];
  //前视图
  int[] top = new int[grid[0].length];

  for (int i = 0; i < grid.length; i++) {
    for (int j = 0; j < grid[i].length; j++) {
      left[i] = Math.max(grid[i][j], left[i]);
      top[j] = Math.max(grid[i][j], top[j]);
    }
  }
  int result = 0;
  for (int i = 0; i < left.length; i++) {
    for (int j = 0; j < top.length; j++) {
      result += Math.min(left[i], top[j]) - grid[i][j];
    }
  }
  return result;
}
```

